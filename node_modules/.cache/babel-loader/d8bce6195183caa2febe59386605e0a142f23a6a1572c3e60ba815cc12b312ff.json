{"ast":null,"code":"import _regeneratorRuntime from\"/Users/avipatel/Documents/GA/Job Search/shyftlabs-dev-test/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/Users/avipatel/Documents/GA/Job Search/shyftlabs-dev-test/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import _slicedToArray from\"/Users/avipatel/Documents/GA/Job Search/shyftlabs-dev-test/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{useState,useEffect}from'react';import{getCourses,createCourse}from'../../utils/course';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";export default function CoursesPage(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),courseName=_useState2[0],setCourseName=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),courses=_useState4[0],setCourses=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),error=_useState6[0],setError=_useState6[1];useEffect(function(){getAll();},[]);function getAll(){return _getAll.apply(this,arguments);}function _getAll(){_getAll=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(){var coursesAll;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:_context.next=2;return getCourses();case 2:coursesAll=_context.sent;setCourses(coursesAll);case 4:case\"end\":return _context.stop();}},_callee);}));return _getAll.apply(this,arguments);}function handleChange(e){setCourseName(e.target.value);}function handleSubmit(_x){return _handleSubmit.apply(this,arguments);}function _handleSubmit(){_handleSubmit=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(e){var body;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:e.preventDefault();if(!(courseName.length===0)){_context2.next=5;break;}setError(true);_context2.next=8;break;case 5:body={name:courseName};_context2.next=8;return createCourse(body).then(function(){alert(\"New course has been added\");setCourseName(\"\");getAll();});case 8:case\"end\":return _context2.stop();}},_callee2);}));return _handleSubmit.apply(this,arguments);}return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"Courses Page\"}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsxs(\"form\",{children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"span\",{children:\"Course name\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",type:\"text\",value:courseName,autoComplete:\"off\",onChange:handleChange,required:true})]}),error?/*#__PURE__*/_jsx(\"label\",{children:\"Course name is required\"}):\"\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"})]}),/*#__PURE__*/_jsx(\"hr\",{}),/*#__PURE__*/_jsx(\"div\",{className:\"Course\",children:/*#__PURE__*/_jsxs(\"table\",{children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"th\",{children:\"Course Name\"})})}),/*#__PURE__*/_jsx(\"tbody\",{children:courses.map(function(c){return/*#__PURE__*/_jsx(\"tr\",{children:/*#__PURE__*/_jsx(\"td\",{children:c.name})},c._id);})})]})})]});}","map":{"version":3,"names":["useState","useEffect","getCourses","createCourse","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CoursesPage","_useState","_useState2","_slicedToArray","courseName","setCourseName","_useState3","_useState4","courses","setCourses","_useState5","_useState6","error","setError","getAll","_getAll","apply","arguments","_asyncToGenerator","_regeneratorRuntime","mark","_callee","coursesAll","wrap","_callee$","_context","prev","next","sent","stop","handleChange","e","target","value","handleSubmit","_x","_handleSubmit","_callee2","body","_callee2$","_context2","preventDefault","length","name","then","alert","children","type","autoComplete","onChange","required","onClick","className","map","c","_id"],"sources":["/Users/avipatel/Documents/GA/Job Search/shyftlabs-dev-test/src/pages/CoursesPage/CoursesPage.jsx"],"sourcesContent":["import { useState, useEffect } from 'react'\n\nimport { getCourses, createCourse } from '../../utils/course';\n\nexport default function CoursesPage() {\n    const [courseName, setCourseName] = useState(\"\")\n    const [courses, setCourses] = useState([])\n    const [error, setError] = useState(false);\n\n    useEffect(() => {\n        getAll();\n      }, []);\n    \n      async function getAll() {\n        const coursesAll = await getCourses();\n        setCourses(coursesAll);\n      }\n    \n      function handleChange(e) {\n        setCourseName(e.target.value);\n      }\n    \n      async function handleSubmit(e) {\n        e.preventDefault();\n        if (courseName.length === 0) {\n          setError(true)\n        } else {\n          let body = {\n            name: courseName\n          }\n          await createCourse(body).then(() => {\n            alert(\"New course has been added\");\n            setCourseName(\"\")\n            getAll()\n          })\n        }\n      }\n        \n      return (\n        <>\n          <h1>Courses Page</h1>\n          <hr />\n          <form>\n            <div>\n            <span>Course name</span><br/>\n            <input\n              name=\"name\"\n              type=\"text\"\n              value={courseName}\n              autoComplete=\"off\"\n              onChange={handleChange}\n              required\n            />\n            </div>\n            {error ?\n          <label>Course name is required</label> : \"\"}\n          <br/>\n            <button onClick={handleSubmit}>Submit</button>\n          </form>\n          <hr />\n          <div className=\"Course\">\n            <table>\n              <thead>\n                <tr>\n                  <th>Course Name</th>\n                </tr>\n              </thead>\n              <tbody>\n                {courses.map((c) => {\n                  return (\n                    <tr key={c._id}>\n                      <td>{c.name}</td>\n                    </tr>\n                  );\n                })}\n              </tbody>\n            </table>\n          </div>\n        </>\n      );\n  \n  \n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}